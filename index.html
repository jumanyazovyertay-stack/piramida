<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sog'lom Hayot Piramidasi</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body{
    background: linear-gradient(to bottom, #c7f9ff, #ffffff);
    font-family: sans-serif;
}
.card{
    padding:10px;
    background:white;
    border-radius:8px;
    box-shadow:0 4px 6px rgba(0,0,0,0.2);
    cursor:grab;
    width:170px;
    text-align:center;
}
.pyramid{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
}
.row{
    display:flex;
    gap:10px;
}
.slot{
    width:170px;
    height:60px;
    border:2px dashed #999;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
}
.correct{
    background:#86efac;
    border:2px solid #16a34a;
}
</style>
</head>
<body class="p-6">

<h1 class="text-4xl font-bold text-center text-green-700 mb-4">
Sog'lom Hayot Piramidasi
</h1>

<p class="text-center mb-6 text-gray-700">
Kartani tanlab, mos darajadagi katakka olib boring.
</p>

<div id="cards" class="flex flex-wrap justify-center gap-3 mb-8"></div>

<div class="pyramid" id="pyramid"></div>

<script>

// HAR DARAJAGA MOS ODATLAR
const habits = [
{ id:1, name:"Giyohvandlik", level:1 },

{ id:2, name:"Chekish", level:2 },
{ id:3, name:"Energetik ichimlik", level:2 },

{ id:4, name:"Fast food", level:3 },
{ id:5, name:"Telefonni ko‘p ishlatish", level:3 },
{ id:6, name:"Uyqu rejimini buzish", level:3 },

{ id:7, name:"Sport bilan shug‘ullanish", level:4 },
{ id:8, name:"Toza havoda sayr", level:4 },
{ id:9, name:"Kitob o‘qish", level:4 },
{ id:10, name:"Ijobiy do‘stlar", level:4 },

{ id:11, name:"Sog‘lom ovqatlanish", level:5 },
{ id:12, name:"Suv ichish", level:5 },
{ id:13, name:"8 soat uyqu", level:5 },
{ id:14, name:"Ota-onani hurmat qilish", level:5 },
{ id:15, name:"Maqsad qo‘yish", level:5 }
];

const cardsDiv=document.getElementById("cards");
const pyramid=document.getElementById("pyramid");

// KARTALAR
habits.forEach(habit=>{
let card=document.createElement("div");
card.className="card";
card.innerText=habit.name;
card.draggable=true;
card.dataset.level=habit.level;
card.id="card-"+habit.id;

cardsDiv.appendChild(card);

card.addEventListener("dragstart",e=>{
e.dataTransfer.setData("text/plain",card.id);
});
});

// PIRAMIDA (1-2-3-4-5)
for(let level=1; level<=5; level++){
let row=document.createElement("div");
row.className="row";

for(let i=0;i<level;i++){
let slot=document.createElement("div");
slot.className="slot";
slot.dataset.level=level;

slot.addEventListener("dragover",e=>e.preventDefault());

slot.addEventListener("drop",e=>{
e.preventDefault();
let cardId=e.dataTransfer.getData("text/plain");
let card=document.getElementById(cardId);

if(!slot.hasChildNodes()){   // slot bo‘sh bo‘lsa
    if(parseInt(card.dataset.level)===level){
        slot.appendChild(card);
        slot.classList.add("correct");
    }else{
        alert("Bu daraja uchun mos emas!");
    }
}
});

row.appendChild(slot);
}
pyramid.appendChild(row);
}

</script>

</body>
</html>
